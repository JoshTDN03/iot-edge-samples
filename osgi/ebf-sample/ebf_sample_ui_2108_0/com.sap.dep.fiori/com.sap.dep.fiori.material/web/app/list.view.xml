<mvc:View
    controllerName="dep.fiori.material.app.list"
    class="dep-fiori"
    displayBlock="true"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:c="sap.ui.core"
    xmlns="sap.m"
    xmlns:lib="dep.fiori.lib">
    <Page
        showHeader="false"
        showSubHeader="false"
        enableScrolling="false">
        <VBox
            fitContainer="true"
            renderType="Bare">
            <c:Fragment fragmentName="dep.fiori.lib.frag.filterBar" type="XML" />
            <ScrollContainer
                vertical="true"
                height="100%"
                width="100%">
                <Table
                    id="list"
                    noDataText="{i18nGlobal>MaterialSelect.listEmpty}"
                    items="{odata>/Material}"
                    growing="true"
                    growingScrollToLoad="true"
                    mode="SingleSelectMaster"
                    itemPress="onItemPress">
                    <headerToolbar>
                        <Toolbar>
                            <Title text="{i18nGlobal>MaterialSelect.listTitle}" />
                            <ToolbarSpacer />
                            <CheckBox
                                text="{i18n>Search.global}" 
                                selected="{search>/global}" />
                            <SearchField 
                                value="{search>/query}"
                                maxLength="8"
                                width="20%"
                                placeholder="{i18n>Search.placeholder}"
                                search="onMaterialSearch" />
                            <Button
                                tooltip="{i18nGlobal>General.sortList}"
                                icon="sap-icon://drop-down-list"
                                press="onSortPress" />
                        </Toolbar>
                    </headerToolbar>
                    <columns>
                        <Column
                            vAlign="Middle"
                            width="15%">
                            <Title
                                text="{i18nGlobal>MaterialSelect.material}"
                                tooltip="{i18nGlobal>MaterialSelect.material}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="auto">
                            <Title
                                text="{i18nGlobal>General.description}"
                                tooltip="{i18nGlobal>General.description}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="10%"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Title
                                text="{i18n>Material.storageLocation}"
                                tooltip="{i18n>Material.storageLocation}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="15%"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Title
                                text="{i18n>Material.bin}"
                                tooltip="{i18n>Material.bin}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="20%"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Title
                                text="{i18nGlobal>MaterialSelect.manufacturer}"
                                tooltip="{i18nGlobal>MaterialSelect.manufacturer}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="10%"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Title
                                text="{i18nGlobal>MaterialSelect.manufacturerPartNo}"
                                tooltip="{i18nGlobal>MaterialSelect.manufacturerPartNo}" />
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem id="listItemTemplate" type="Active">
                            <cells>
                                <HBox
                                    fitContainer="true"
                                    renderType="Bare"
                                    alignItems="Center">
                                    <Label
                                        text="{odata>MATNR}"
                                        tooltip="{odata>MATNR}"
                                        design="Bold"
                                        class="identifierTextBlue sapUiTinyMarginEnd" />
                                    <c:Icon
                                        src="sap-icon://message-error"
                                        size="1.25rem"
                                        color="red"
                                        tooltip="{i18nGlobal>General.hasSyncErrors}"
                                        visible="{= !!${odata>EDGE_ERRORS} }"
                                        press="handleResponsivePopoverPress" />
                                </HBox>
                                <Label
                                    text="{odata>MAKTX}"
                                    tooltip="{odata>MAKTX}" />
                                <Label text="{odata>LGORT}" />
                                <Label text="{odata>LGPBE}" />
                                <Label text="{odata>NAME1}" />
                                <Label text="{odata>MFRPN}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
            </ScrollContainer>
        </VBox>
    </Page>
</mvc:View>