<c:FragmentDefinition
    xmlns:c="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns="sap.m">   
    <f:Form title="{i18n>Document.title} {/0/MBLNR}" editable="true">
        <f:layout>
            <f:ResponsiveGridLayout hSpacing="2" />
        </f:layout>
        
        <!-- Header -->
        <f:FormContainer title="{i18n>Document.detail}">
            <f:layoutData>
                <l:GridData span="L12 M12 S12" />
            </f:layoutData>
            <f:FormElement>
                <f:label>
                    <Label
                        text="{i18n>Document.movementType}:"
                        tooltip="{i18n>Document.movementType}">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                </f:label>
                <Text text="{/0/BWART} ({/0/BTEXT})">
                    <layoutData>
                        <l:GridData span="L4 M3 S12" />
                    </layoutData>
                </Text>
            </f:FormElement>
            <f:FormElement visible="{= ${/0/BWART} === '343' || ${/0/BWART} === '344' }">
                <f:label>
                    <Label
                        text="{i18n>Document.purchaseOrder}:"
                        tooltip="{i18n>Document.purchaseOrder}">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                </f:label>
                <Text text="{/0/EBELN}">
                    <layoutData>
                        <l:GridData span="L4 M3 S12" />
                    </layoutData>
                </Text>
            </f:FormElement>
            <f:FormElement visible="{= ${/0/BWART} === '261' || ${/0/BWART} === '262' }">
                <f:label>
                    <Label
                        text="{i18nGlobal>General.workorder}:"
                        tooltip="{i18nGlobal>General.workorder}">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                </f:label>
                <Text text="{/0/AUFNR}">
                    <layoutData>
                        <l:GridData span="L4 M3 S12" />
                    </layoutData>
                </Text>
            </f:FormElement>
            <f:FormElement visible="{= ${/0/BWART} !== '261' &amp;&amp; ${/0/BWART} !== '262' }">
                <f:label>
                    <Label
                        text="{i18n>Document.toPlant}:"
                        tooltip="{i18n>Document.toPlant}">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                </f:label>
                <Text text="{/0/UMWRK}">
                    <layoutData>
                        <l:GridData span="L4 M3 S12" />
                    </layoutData>
                </Text>
            </f:FormElement>
            <f:FormElement>
                <f:label>
                    <Label
                        text="{i18n>Document.toLoc}:"
                        tooltip="{i18n>Document.toLoc}">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                </f:label>
                <Text
                    text="{/0/UMLGO}" >
                    <layoutData>
                        <l:GridData span="L4 M3 S12" />
                    </layoutData>
                </Text>
            </f:FormElement>
        </f:FormContainer>
        
        <!-- Items -->
        <f:FormContainer>
            <f:layoutData>
                <l:GridData span="L12 M12 S12" />
            </f:layoutData>
            <f:title>
                <c:Title text="{= ${i18nGlobal>MaterialSelect.listTitle} + ' (' + (${/length} || 0) + ')' }" />
            </f:title>
            <f:FormElement>
                <Table 
                    noDataText="{i18nGlobal>General.listEmpty}"
                    items="{/}">
                    <columns>
                        <Column vAlign="Middle">
                            <Label text="{i18nGlobal>General.material}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            width="30%"
                            minScreenWidth="Desktop"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Label text="{i18nGlobal>General.description}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Label text="{i18nGlobal>General.location}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Label text="{i18nGlobal>General.bin}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            hAlign="Right"
                            minScreenWidth="Tablet"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Label text="{i18nGlobal>General.onhand}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            hAlign="Right">
                            <Label text="{i18n>Document.movementQty}" />
                        </Column>
                        <Column vAlign="Middle">
                            <Label text="{i18nGlobal>General.unit}" />
                        </Column>
                        <Column
                            vAlign="Middle"
                            minScreenWidth="Desktop"
                            demandPopin="true"
                            popinDisplay="Inline">
                            <Label text="{i18n>Document.valuation}" />
                        </Column>
                    </columns>
                    <ColumnListItem>
                        <Label text="{MATNR}" design="Bold" />
                        <Label text="{MAKTX}" />
                        <Label text="{LGORT}" />
                        <Label text="{LGPBE}" />
                        <Label text="{QUANT}" />
                        <Label text="{ERFMG}" />
                        <Label text="{ERFME}" />
                        <Label text="{BWTAR}" />
                    </ColumnListItem>
                </Table>
            </f:FormElement>
        </f:FormContainer>
    </f:Form>
</c:FragmentDefinition>