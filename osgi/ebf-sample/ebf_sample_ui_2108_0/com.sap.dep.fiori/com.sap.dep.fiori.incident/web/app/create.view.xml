<mvc:View
    controllerName="dep.fiori.incident.app.create"
    class="dep-fiori"
    displayBlock="true"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout"
    xmlns:c="sap.ui.core">
    <Page showHeader="false">
        <f:Form id="form">

            <f:toolbar>
                <Toolbar>
                    <Title text="{i18n>Form.title}"/>
                    <ToolbarSpacer></ToolbarSpacer>
                   <!-- <Label id="reportedBy" text="{i18n>Form.authorLabel}:"/>
                    <Image
                        height="2.5rem"
                        width="auto"
                        src="{createdByImg>/imageURL}"
                        class="borderRadiusCircle"/>-->
                </Toolbar>
            </f:toolbar>

            <f:layout>
                <f:ResponsiveGridLayout
                    labelSpanL="2"
                    /> 
            </f:layout>

            <f:formContainers>
                <f:FormContainer>
                    <f:formElements>
					    <f:FormElement>
								<Label text="{i18n>Form.incidentTitleWhat}" design="Bold">
									<layoutData>
										<l:GridData
											span="L12 M12 S12">
										</l:GridData>
									</layoutData>
								</Label>	                                                   
						</f:FormElement>			
                        <f:FormElement>
                            <f:label>
                                <Label text="{i18n>Form.incidentTileLabel}" required="true"/>
                            </f:label>
                            
                            <f:fields>
                                <Input
                                    change="validate"
                                    id="incidentTitle"
									maxLength="80"
                                    value="{/TITLE}">
                                    <layoutData>
                                        <l:GridData
                                            span="L5 M5 S12">
                                        </l:GridData>
                                    </layoutData>
                                </Input>
                            </f:fields>
                        </f:FormElement>

                        <f:FormElement>
                            <f:label>
                                <Label text="{i18n>Form.descriptionLabel}" required="false"/>
                            </f:label>
                            <f:fields>        
                                <TextArea
                                    id="descriptionOfEvents"
                                    value="{/ELTXT}"
                                    rows="4">
                                    <layoutData>
                                        <l:GridData
                                            span="L5 M5 S12">
                                        </l:GridData>
                                    </layoutData>
                                </TextArea>
                            </f:fields>
                        </f:FormElement>
                         <f:FormElement>
							<f:label>
								<Label text="{i18n>Form.immediateActions}" required="false"/>
							</f:label>
							<f:fields>
								<TextArea
									id="immediateActions"
									value="{/ALTXT}"
									rows="4">
									<layoutData>
										<l:GridData
											span="L5 M5 S12">
										</l:GridData>
									</layoutData>
								</TextArea>
							</f:fields>
						</f:FormElement>
						
						<f:FormElement>
								<Label text="{i18n>Form.incidentTitleWhen}" design="Bold">
									<layoutData>
										<l:GridData
											span="L12 M12 S12">
										</l:GridData>
									</layoutData>
								</Label>	                                                  
						</f:FormElement>
                      
                        <f:FormElement>
                            <f:label>
                                <Label text="{i18n>Form.dateLabel}" required="true"/>
                            </f:label>
                            <f:fields>
                                <DatePicker
                                    id="datePicker"
                                    placeholder="{i18nGlobal>General.enterDate} ..."
                                    valueFormat="yyyyMMdd"
                                    value="{/START_DATE}"
                                    change="validate">
                                    <layoutData>
                                        <l:GridData
                                            span="L2 M2 S12">
                                        </l:GridData>
                                    </layoutData>
                                </DatePicker>
                            </f:fields>
                        <!--</f:FormElement>-->
						 <!-- <f:FormElement visible="{= ${INCIDENT_MODEL>/UNKNOWN_TIME} === 'X'}">-->
                        <!--<f:FormElement>
                            <f:label>
                                <Label text="{i18n>Form.timeLabel}:" required="true"/>
                            </f:label>-->

                            <f:fields>
                                <TimePicker
                                    id="timePicker"
                                    value="{/START_TIME}"
                                    valueFormat="HHmm"
                                    displayFormat="HH:mm"
                                    class="sapUiLargeMarginEnd"
									editable="{state>/editing}"
                                    change="validate">
                                    <layoutData>
                                        <l:GridData
                                            span="L1 M1 S6">
                                        </l:GridData>
                                    </layoutData>
                                </TimePicker>

                                <Select
                                    id="incident-reporting-timezone"
                                    showSecondaryValues="true"
									enabled="{state>/editing}"
                                    items="{path: '/'}"
                                    change="validate">
                                    <c:ListItem key="{START_TIME_ZONE}" text="{START_TIME_ZONE}" additionalText="{TIMEZONE_DESCRIPTION}"/>
                                    <layoutData>
                                        <l:GridData
                                            span="L2 M4 S6">
                                        </l:GridData>
                                    </layoutData>
                                </Select>
                            </f:fields>
                        </f:FormElement>
						
						<f:FormElement>
							<f:label>
								<Label text="{i18n>Form.unknownTimeLabel}" required="false"/>
							</f:label>
							<f:fields>
								 <Checkbox
								id="unknownTime"
								selected="{= ${/TIME_NOT_DET_IND} === 'X' }"
								select="onUnknownTimeSelect"/>
							</f:fields>
						</f:FormElement>
						
						<f:FormElement>
								<Label text="{i18n>Form.incidentTitleWhere}" design="Bold">
									<layoutData>
										<l:GridData
											span="L12 M12 S12">
										</l:GridData>
									</layoutData>
								</Label>	                                                  
						</f:FormElement>
						
						<f:FormElement>
							<f:label>
								<Label text="{i18n>Location.plantIDLabel}" required="false"/>
							</f:label>

							<f:fields>
								<Input
									id="incidentPlantID"
									value="{plantIDModel>/PLANT_ID}"
									enabled="false">
									<layoutData>
										<l:GridData
											span="L5 M5 S12">
										</l:GridData>
									</layoutData>
								</Input>
							</f:fields>
						</f:FormElement>
						
						 <f:FormElement>
                            <f:label>
                                <Label text="{i18n>Form.locationLabel}" required="false"/>
                            </f:label>
                            <f:fields>
                                <Input 
                                    id="incident-reporting-location"
                                    showValueHelp="true"
                                    value="{/PLANT_LOC_DESCRIPTION}"
                                    valueHelpOnly="true"
                                    valueHelpRequest="accidentLocationPress">
                                    <layoutData>
                                        <l:GridData
                                            span="L5 M5 S12">
                                        </l:GridData>
                                    </layoutData>
                                </Input>
								<Input
									type="Text"
									value="{/PLANT_LOC_CODE}"
									enabled="false"
									editable="false"
									showValueHelp="false"
									visible="false"
									>
								</Input>
                            </f:fields>
                        </f:FormElement>
						
						<f:FormElement>
							<f:label>
								<Label text="{i18n>Location.descriptionLabel}" required="false"/>
							</f:label>
							<f:fields>
								<TextArea
									id="locationDescription"
									value="{/DESCRIPTION}"
									rows="4">
									<layoutData>
										<l:GridData
											span="L5 M5 S12">
										</l:GridData>
									</layoutData>
								</TextArea>
							</f:fields>
						</f:FormElement>
						
						 <f:FormElement>
							<f:label>
								<Label text="{i18n>Location.locationClassificationLabel}" required="false"/>
							</f:label>

							<f:fields>
								<!--<Input
									id="locationClassification"
									value="{INCIDENT_MODEL>/LOCATION_CLASS_ID}"
									editable="{state>/editing}">
									<layoutData>
										<l:GridData
											span="L5 M5 S12">
										</l:GridData>
									</layoutData>
								</Input>-->
								<Input 
                                    id="locationClassification"
                                    showValueHelp="true"
                                    value="{/PLANT_LOC_CL_DESCRIPTION}"
                                    valueHelpOnly="true"
                                    valueHelpRequest="accidentLocationClassificationPress">
                                    <layoutData>
                                        <l:GridData
                                            span="L5 M5 S12">
                                        </l:GridData>
                                    </layoutData>
                                </Input>
								<Input
									type="Text"
									value="{/PLANT_LOC_CL_CODE}"
									enabled="false"
									editable="false"
									showValueHelp="false"
									visible="false"
									>
								</Input>
							</f:fields>
						</f:FormElement>
						
						<f:FormElement>
							<f:label>
								<Label text="{i18n>Location.organizationalUnitLabel}" required="false"/>
							</f:label>

							<f:fields>
								<Input
                                    showValueHelp="true"
									change="validate"
									id="locationOrgUnitID"                                    
									value="{/ORG_UNIT_DESCRIPTION}"
									valueHelpOnly="true"
                                    valueHelpRequest="orgUnitPress"
									>
									<layoutData>
										<l:GridData
											span="L5 M5 S12">
										</l:GridData>
									</layoutData>
								</Input>
								
								<Input
									type="Text"
									value="{/ORG_UNIT}"
									enabled="false"
									editable="false"
									showValueHelp="false"
									visible="false"
									>
								</Input>
														
							</f:fields>
						</f:FormElement>
						
                    </f:formElements>
                </f:FormContainer>
            </f:formContainers>
        </f:Form>

        <footer>
            <Bar id="otbFooter">
                <contentLeft>
                    <Button
                        id="messages-button"
                        icon="sap-icon://message-popup"
                        text="{/length}"
                        type="Emphasized"
                        press="handleMessagePopoverPress"/>
                </contentLeft>
                <contentRight>
                    <Button
                        id="save-button"
                        type="Emphasized"
                        text="{i18nGlobal>General.save}"
                        press="onSubmitPress"/>
                    <Button
                        id="cancel-button"
                        text="{i18nGlobal>General.cancel}"
						press="onCancel"/>
                </contentRight>
            </Bar>
        </footer>
    </Page>
</mvc:View>