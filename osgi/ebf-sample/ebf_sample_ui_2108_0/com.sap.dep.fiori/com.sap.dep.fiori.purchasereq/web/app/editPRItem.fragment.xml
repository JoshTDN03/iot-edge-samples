<c:FragmentDefinition
    xmlns:c="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns="sap.m">
    <Dialog
        title="{i18n>PRItem.dialogTitle} {item>/MATNR}"
        class="dep-fiori"
        stretchOnPhone="true"
        contentHeight="100%"
        contentWidth="65%"
        verticalScrolling="false"
        afterClose="afterCloseEditPRItem">
        <Page
            showHeader="false"
            showSubHeader="false"
            enableScrolling="false">
            <VBox
                fitContainer="true"
                renderType="Bare">
                <ScrollContainer
                    vertical="true"
                    height="100%"
                    width="100%">
                    <f:Form class="dep-fiori-dialog-form">
                        <f:layout>
                            <f:ResponsiveGridLayout
                                singleContainerFullSize="true"
                                labelSpanL="2"
                                columnsL="12"
                                columnsM="12" />
                        </f:layout>
                        <f:formContainers>
                            <f:FormContainer>
                                <f:formElements>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18nGlobal>General.description}:" />
                                        </f:label>
                                        <Input
                                            width="100%"
                                            value="{item>/TXZ01}"
                                            editable="false">
                                            <layoutData>
                                                <l:GridData span="L4 M8 S12" />
                                            </layoutData>
                                        </Input>
                                    </f:FormElement>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18n>List.quantity}:" />
                                        </f:label>
                                        <Input
                                            width="100%"
                                            type="Number"
                                            textAlign="Right"
                                            value="{item>/MENGE}">
                                            <layoutData>
                                                <l:GridData span="L1 M2 S12" />
                                            </layoutData>
                                        </Input>
                                    </f:FormElement>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18nGlobal>General.unit}:">
                                                <layoutData>
                                                    <l:GridData span="L1 M2 S12" />
                                                </layoutData>
                                            </Label>
                                        </f:label>
                                         <Input
                                            width="100%"
                                            value="{item>/MEINS}"
                                            editable="false">
                                            <layoutData>
                                                <l:GridData span="L1 M2 S12" />
                                            </layoutData>
                                        </Input>
                                        <!-- <Select
                                            width="100%"
                                            items="{lookup>/unit}"
                                            selectedKey="{item>/MEINS}"
                                            showSecondaryValues="true">
                                            <c:ListItem text="{lookup>MSEHI}" key="{lookup>MSEHI}" additionalText="{lookup>MSEHL}" />
                                            <layoutData>
                                                <l:GridData span="L1 M2 S12" />
                                            </layoutData>
                                        </Select> -->
                                    </f:FormElement>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18n>PRItem.unitPrice}:" />
                                        </f:label>
                                        <Input
                                            width="100%"
                                            type="Number"
                                            textAlign="Right"
                                            value="{item>/PREIS}">
                                            <layoutData>
                                                <l:GridData span="L1 M2 S12" />
                                            </layoutData>
                                        </Input>
                                    </f:FormElement>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18nGlobal>General.currency}:">
                                                <layoutData>
                                                    <l:GridData span="L1 M2 S12" />
                                                </layoutData>
                                            </Label>
                                        </f:label>
                                        <Select
                                            width="100%"
                                            items="{lookup>/currency}"
                                            selectedKey="{item>/WAERS}">
                                            <c:Item text="{lookup>WAERS}" key="{lookup>WAERS}" />
                                            <layoutData>
                                                <l:GridData span="L1 M2 S12" />
                                            </layoutData>
                                        </Select>
                                    </f:FormElement>
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18n>PRItem.price}:"/>
                                        </f:label>
                                        <Title
                                            width="100%"
                                            titleStyle="H2"
                                            text="{= ${item>/PREIS} * ${item>/MENGE} }">
                                            <layoutData>
                                                <l:GridData span="L4 M8 S12" />
                                            </layoutData>
                                        </Title>
                                    </f:FormElement>
                                    <!-- <f:FormElement>
                                        <f:label>
                                            <Label text="{i18n>PR.freightMode}:" />
                                        </f:label>
                                        <Select
                                            width="100%"
                                            items="{lookup>/freightMode}"
                                            selectedKey="{item>/FREIGHT_MODE}"
                                            showSecondaryValues="true"
                                            forceSelection="false">
                                            <c:ListItem text="{lookup>FREIGHT_DESC}" key="{lookup>FREIGHT_MODE}" additionalText="{lookup>FREIGHT_MODE}" />
                                            <layoutData>
                                                <l:GridData span="L3 M6 S12" />
                                            </layoutData>
                                        </Select>
                                    </f:FormElement> -->
                                    <f:FormElement>
                                        <f:label>
                                            <Label text="{i18n>List.delivery}:" />
                                        </f:label>
                                        <DatePicker
                                            width="100%"
                                            value="{item>/LFDAT}"
                                            valueFormat="yyyyMMdd">
                                            <layoutData>
                                                <l:GridData span="L2 M4 S12" />
                                            </layoutData>
                                        </DatePicker>
                                    </f:FormElement>
                                </f:formElements>
                            </f:FormContainer>
                        </f:formContainers>
                    </f:Form>
                </ScrollContainer>
            </VBox>

            <footer>
                <Bar>
                    <contentRight>
                        <Button
                            type="Emphasized"
                            text="{i18nGlobal>General.save}"
                            press="onSavePRItem"
                            enabled="true">
                        </Button>
                        <Button
                            text="{i18nGlobal>General.cancel}"
                            press="onCloseEditPRItem"
                            enabled="true">
                        </Button>
                    </contentRight>
                </Bar>
            </footer>
        </Page>
    </Dialog>
</c:FragmentDefinition>