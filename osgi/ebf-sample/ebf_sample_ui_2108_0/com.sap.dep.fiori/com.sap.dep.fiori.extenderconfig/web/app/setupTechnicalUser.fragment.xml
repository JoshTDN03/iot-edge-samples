<c:FragmentDefinition
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:f="sap.ui.layout.form"
    xmlns:l="sap.ui.layout">
    <Dialog
        title="{i18n>Config.userDialogHeader}"
        class="dep-fiori"
        stretchOnPhone="true"
        contentHeight="100%"
        contentWidth="100%"
        afterClose=".onUserDialogClose">
        <Page
            showHeader="false"
            showSubHeader="false">
            <f:Form class="dep-fiori-dialog-form">
                <f:layout>
                    <f:ResponsiveGridLayout labelSpanL="2" />
                </f:layout>
                <f:FormContainer>
                    <f:layoutData>
                        <l:GridData span="L12 M12 S12" />
                    </f:layoutData>
                    <f:FormElement>
                        <Text
                            text="{i18n>User.description}"
                            tooltip="{i18n>User.description}"
                            class="cloud-ext-technical-user-desc">
                            <layoutData>
                                <l:GridData span="L10 M10 S12" indent="L2 M2" />
                            </layoutData>
                        </Text>
                    </f:FormElement>

                    <f:FormElement>
                        <f:label>
                            <Label
                                text="{i18n>User.name}"
                                tooltip="{i18n>User.name}"
                                required="true" />
                        </f:label>
                        <Input
                            value="{/user}"
                            liveChange="onUserChange">
                            <layoutData>
                                <l:GridData span="L3 M4 S12" />
                            </layoutData>
                        </Input>
                    </f:FormElement>

                    <f:FormElement>
                        <f:label>
                            <Label
                                text="{i18n>User.auth}"
                                tooltip="{i18n>User.auth}"
                                required="true" />
                        </f:label>
                        <Input
                            value="{/auth}"
                            type="Password"
                            liveChange="onAuthChange">
                            <layoutData>
                                <l:GridData span="L3 M4 S12" />
                            </layoutData>
                        </Input>
                    </f:FormElement>

                    <f:FormElement>
                        <Button
                            text="{i18nGlobal>General.save}"
                            type="Emphasized"
                            press=".onSaveUser"
                            enabled="{= !!${/canSave} }">
                            <layoutData>
                                <l:GridData span="L2 M3 S12" indent="L3 M4" linebreak="true" />
                            </layoutData>
                        </Button>
                    </f:FormElement>
                </f:FormContainer>
            </f:Form>

            <footer>
                <Toolbar>
                    <ToolbarSpacer />
                    <Button
                        text="{i18nGlobal>General.cancel}"
                        press=".closeUserDialog" />
                </Toolbar>
            </footer>
        </Page>
    </Dialog>
</c:FragmentDefinition>