<mvc:View
    controllerName="dep.fiori.extenderconfig.app.setup"
    class="dep-fiori"
    displayBlock="true"
    height="100%"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:c="sap.ui.core"
    xmlns:u="sap.uxap"
    xmlns:l="sap.ui.layout"
    xmlns:blocks="dep.fiori.extenderconfig.block"
    xmlns="sap.m">
    <Page
        showHeader="false"
        showSubHeader="false"
        enableScrolling="false">
        <u:ObjectPageLayout 
            id="content"
            alwaysShowContentHeader="true"
            useIconTabBar="true"
            navigate="onBlockSelect">

            <u:headerTitle>
                <u:ObjectPageHeader objectTitle="{i18n>Setup.title} - {DATA_PROVIDER>/}" />
            </u:headerTitle>

            <u:headerContent>
                <l:Grid visible="{= !${/PR_NO_LOCAL} }">
                    <Label text="{i18n>Label.domain}:">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" />
                        </layoutData>
                    </Label>
                    <Input value="{/DOMAIN_URL}">
                        <layoutData>
                            <l:GridData span="L6 M8 S12" />
                        </layoutData>
                    </Input>
                    <Label text="{i18n>Label.proxy}:">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" linebreak="true" />
                        </layoutData>
                    </Label>
                    <Input value="{/HTTP_PROXY}">
                        <layoutData>
                            <l:GridData span="L3 M5 S12" />
                        </layoutData>
                    </Input>
                    <Label text="{i18n>Label.certificate}:">
                        <layoutData>
                            <l:GridData span="L2 M3 S12" linebreak="true" />
                        </layoutData>
                    </Label>
                    <Input value="{/CERTIFICATE}">
                        <layoutData>
                            <l:GridData span="L3 M5 S12" />
                        </layoutData>
                    </Input>
                    <Button
                        text="{i18n>General.save}"
                        type="Emphasized"
                        width="100%"
                        press="onSaveProvider">
                        <layoutData>
                            <l:GridData span="L1 M2 S4" indent="L6 M2 S8" />
                        </layoutData>
                    </Button>
                    <Button
                        text="{i18n>Setup.setTechnicalUser}"
                        type="Emphasized"
                        width="100%"
                        press="onSetUser">
                        <layoutData>
                            <l:GridData span="L2 M3 S6" />
                        </layoutData>
                    </Button>
                </l:Grid>
            </u:headerContent>

            <u:ObjectPageSection id="services">
                <u:ObjectPageSubSection>
                    <u:blocks>
                        <Table
                            id="list"
                            noDataText="{i18nGlobal>General.listEmpty}"
                            items="{
                                path: 'services>/',
                                sorter: { path: 'ID' }
                            }"
                            growing="true"
                            growingScrollToLoad="true"
                            mode="SingleSelectMaster"
                            itemPress="onListItemSelect">
                            <headerToolbar>
                                <Toolbar>
                                    <ToolbarSpacer />
                                    <Button
                                        tooltip="{i18n>Service.add}"
                                        icon="sap-icon://add"
                                        press="onCreate" />
                                </Toolbar>
                            </headerToolbar>
                            <columns>
                                <Column
                                    vAlign="Middle"
                                    width="20%">
                                    <Title
                                        text="{i18n>Label.signature}"
                                        tooltip="{i18n>Tooltip.signature}" />
                                </Column>
                                <Column
                                    vAlign="Middle"
                                    minScreenWidth="Tablet"
                                    demandPopin="true"
                                    popinDisplay="Inline">
                                    <Title
                                        text="{i18n>Label.service}"
                                        tooltip="{i18n>Tooltip.service}" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem type="Detail">
                                    <cells>
                                        <Label
                                            text="{services>SIGNATURE}"
                                            tooltip="{services>SIGNATURE}" />
                                        <Label
                                            text="{services>SERVICE_URL}"
                                            tooltip="{services>SERVICE_URL}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </u:blocks>
                </u:ObjectPageSubSection>
            </u:ObjectPageSection>
        </u:ObjectPageLayout>
    </Page>
</mvc:View>